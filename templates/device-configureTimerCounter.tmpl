<div id="tc-connection-dialog-tabs">
  <ul>
    <li><a href="#tc-connection-dialog-tabs-timers">Timers</a></li>
    <li><a href="#tc-connection-dialog-tabs-counters">Counters</a></li>
    <li><a href="#tc-connection-dialog-tabs-location">Pin Location</a></li>
  </ul>
  <div id="tc-connection-dialog-tabs-timers">
    <form>
      <fieldset>

#for i in range($currentConfig.totalTimers)
  <h5>Timer $i</h5>
  <div>
    <label><input type="checkbox" name="timer${i}Enabled" value="1" #if $currentConfig["timer%sEnabled" % $i] then 'checked="yes"' else ''# ></input>Enable Timer$i</label>

    <div class="timer-config-inputs">
      <label>Mode: 
        <select name="timer${i}Mode" #if not $currentConfig["timer%sEnabled" % $i] then 'disabled="disabled"' else ''# >
            <option value="0" #if $currentConfig["timer%sMode" % $i] == 0 then 'selected="yes"' else ''# >16-bit PWM output</option>
            <option value="1" #if $currentConfig["timer%sMode" % $i] == 1 then 'selected="yes"' else ''#>8-bit PWM output</option>
            <option value="2" #if $currentConfig["timer%sMode" % $i] == 2 then 'selected="yes"' else ''#>Period input (32-bit, rising edges)</option>
            <option value="3" #if $currentConfig["timer%sMode" % $i] == 3 then 'selected="yes"' else ''#>Period input (32-bit, falling edges)</option>
            <option value="4" #if $currentConfig["timer%sMode" % $i] == 4 then 'selected="yes"' else ''#>Duty cycle input</option>
            <option value="5" #if $currentConfig["timer%sMode" % $i] == 5 then 'selected="yes"' else ''#>Firmware counter input</option>
            <option value="6" #if $currentConfig["timer%sMode" % $i] == 6 then 'selected="yes"' else ''#>Firmware counter input (with debounce)</option>
            <option value="7" #if $currentConfig["timer%sMode" % $i] == 7 then 'selected="yes"' else ''#>Frequency output</option>
            <option value="8" #if $currentConfig["timer%sMode" % $i] == 8 then 'selected="yes"' else ''#>Quadrature input</option>
            <option value="9" #if $currentConfig["timer%sMode" % $i] == 9 then 'selected="yes"' else ''#>Timer stop input (odd timers only)</option>
            <option value="10" #if $currentConfig["timer%sMode" % $i] == 10 then 'selected="yes"' else ''#>System timer low read</option>
            <option value="11" #if $currentConfig["timer%sMode" % $i] == 11 then 'selected="yes"' else ''#>System timer high read</option>
            <option value="12" #if $currentConfig["timer%sMode" % $i] == 12 then 'selected="yes"' else ''#>Period input (16-bit, rising edges)</option>
            <option value="13" #if $currentConfig["timer%sMode" % $i] == 13 then 'selected="yes"' else ''#>Period input (16-bit, falling edges)</option>
        </select>
      </label>
    </div>
    
    <div class="timer-config-inputs">
      <label>Value: 
        <input type="text" name="timer${i}Value" value="$currentConfig["timer%sValue" % $i]" #if not $currentConfig["timer%sEnabled" % $i] then 'disabled="disabled"' else ''#></input>
      </label>
    </div>

  </div><br/>
#end for

  <h4>Global settings</h4>
    <div>

      <div class="timer-config-inputs">
        <label>Timer Clock Base:
          <select name="timerClockBase">
      #if $devType == 3 or $devType == 6
              <option #if $currentConfig.timerClockBase == 0 then 'selected="yes"' else ''# value="0">4 MHz</option>
              <option #if $currentConfig.timerClockBase == 1 then 'selected="yes"' else ''# value="1">12 MHz</option>
              <option #if $currentConfig.timerClockBase == 2 then 'selected="yes"' else ''# value="2">48 MHz</option>
              <option #if $currentConfig.timerClockBase == 3 then 'selected="yes"' else ''# value="3">1 MHz /Divisor</option>
              <option #if $currentConfig.timerClockBase == 4 then 'selected="yes"' else ''# value="4">4 MHz /Divisor</option>
              <option #if $currentConfig.timerClockBase == 5 then 'selected="yes"' else ''# value="5">12 MHz /Divisor</option>
              <option #if $currentConfig.timerClockBase == 6 then 'selected="yes"' else ''# value="6">48 MHz /Divisor</option>
      #elif $devType == 9
              <option #if $currentConfig.timerClockBase == 0 then 'selected="yes"' else ''# value="0">750 kHz</option>
              <option #if $currentConfig.timerClockBase == 1 then 'selected="yes"' else ''# value="1">48 MHz</option>
      #end if
          </select>
        </label>
      </div>
      
      <div class="timer-config-inputs">
        <label>Timer Clock Divisor:
          <input name="timerClockDivisor" type="text" value="$currentConfig.timerClockDivisor"></input>
        </label>
      </div>
    
  </div>

      </fieldset>
    </form>
  </div>
  <div id="tc-connection-dialog-tabs-counters">
    <form>
      <fieldset>
        <label><input type="checkbox" name="counter0Enable" value="1" #if $currentConfig.counter0Enabled then 'checked="yes"' else ''# ></input>Enable Counter0</label>
        <br/>
        <label><input type="checkbox" name="counter1Enable" value="1" #if $currentConfig.counter1Enabled then 'checked="yes"' else ''#></input>Enable Counter1</label>
      </fieldset>
    </form>
  </div>
  <div id="tc-connection-dialog-tabs-location">
    <form>
      <fieldset>
#if $devType != 9
        <span>Start timers and counters on:</span>
        <select name="pinOffset">
        #for k, v in $offsetChoices
          <option #if $currentConfig.offset == $k then 'selected="yes"' else ''# value="$k">$v</option>
        #end for
        </select>
#end if    
      </fieldset>
    </form>
    <div id="tc-connection-dialog-pin-location-summary" class="ui-state-highlight">
    </div>
  </div>
</div>




